{{- $username := .Get "username" -}}
{{- $id := .Get "id" -}}

{{- if not (and $id $username) -}}
  <p class="text-red-600">
    ⚠️ threads shortcode requires `id` and `username` params.
  </p>
{{- else -}}
  <blockquote
    class="text-post-media threads-media"
    data-text-post-permalink="https://www.threads.com/@{{ $username }}/post/{{ $id }}"
    data-text-post-version="0"
    id="ig-tp-{{ $id }}"
    style="background:#FFF; border:1px solid #00000026; border-radius:16px; max-width:540px; margin:1px; min-width:270px; padding:0; width:calc(100% - 2px);"
  >
    <a
      href="https://www.threads.com/@{{ $username }}/post/{{ $id }}"
      target="_blank"
      style="background:#FFF; line-height:0; padding:0; text-align:center; text-decoration:none; width:100%; font-family: -apple-system, BlinkMacSystemFont, sans-serif;"
    >
      <div
        style="padding:40px; display:flex; flex-direction:column; align-items:center;"
      >
        <div
          style="display:block; height:32px; width:32px; padding-bottom:20px;"
        >
          <!-- Threads logo as SVG -->
          <svg
            aria-label="Threads"
            height="32px"
            role="img"
            viewBox="0 0 192 192"
            width="32px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="..." />
            <!-- use the actual SVG path here -->
          </svg>
        </div>
        <div
          style="font-size:15px; line-height:21px; color:#000; font-weight:600;"
        >
          View on Threads
        </div>
      </div>
    </a>
  </blockquote>
  <script async src="https://www.threads.com/embed.js"></script>
{{- end -}}
